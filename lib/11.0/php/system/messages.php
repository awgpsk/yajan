<?phpclass Messages{	var $message;	var $name;	var $backtrace;	function __construct($name)	{		$this->message=array();		$this->name = $name;		$this->backtrace = array();	}	function add($type,$msg,$info='')	{		global $MESSAGE_BACKTRACE;				$temp = array();		$temp['type']=$type;		$temp['text']=$msg;		$temp['info']=$info;		if($MESSAGE_BACKTRACE)		{			$this->backtrace[count($this->backtrace)]=debug_backtrace();		}		else		{			$this->backtrace[count($this->backtrace)]=null;		}		$this->message[count($this->message)]=$temp;			}	function toLogString()	{		$message='';		for($i=0;$i<count($this->message);$i++)		{			$inf = str_replace("\n","",$this->message[$i]['info']);			$inf = str_replace("\r","",$inf);			$message.= $this->message[$i]['type'].":".$this->message[$i]['text'].":".$inf."\n";		}		return $message;	}	function showMessage()	{		print_r($this->message[0]['text']);	}	function showBacktrace()	{		print_r($this->backtrace);	}}?>